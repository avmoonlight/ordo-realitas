<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <title>Dashboard — Ordo Realitas</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/dashboard.css') }}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <!-- Botão Hamburguer -->
    <div class="hamburger" id="hamburger">
        <span></span>
        <span></span>
        <span></span>
    </div>

    <!-- Sidebar -->
    <!-- Sidebar -->
<div class="sidebar" id="sidebar">
    <h2>Ordo Realitas</h2>
    <ul>
        <li><a href="{{ url_for('usuarios') }}"><i class="fa-solid fa-users"></i> Usuários</a></li>
        <li><a href="{{ url_for('equipes') }}"><i class="fa-solid fa-people-group"></i> Equipes</a></li>
        <li><a href="{{ url_for('agentes') }}"><i class="fa-solid fa-brain"></i> Área Cris</a></li> <!-- NOVO -->
    </ul>

    <div class="logout-link">
        <a href="{{ url_for('logout') }}"><i class="fa-solid fa-right-from-bracket"></i> Sair</a>
    </div>
</div>


    <!-- Painel principal -->
    <div class="main-content">
        <h1>Painel de Operações Paranormais</h1>
        <p>Bem-vindo, <strong>{{ session['usuario'] }}</strong>.</p>

        <div class="dashboard-grid">
            <div class="card">
                <h3>Monstros Encontrados</h3>
                <canvas id="monstrosChart"></canvas>
            </div>
            <div class="card">
                <h3>Mortes por Criaturas</h3>
                <canvas id="mortesChart"></canvas>
            </div>
            <div class="card">
                <h3>Atividade Paranormal</h3>
                <canvas id="atividadeChart"></canvas>
            </div>
            <div class="card">
                <h3>Missões Ativas</h3>
                <canvas id="missoesChart"></canvas>
            </div>
        </div>
    </div>



    <script>
        const hamburger = document.getElementById('hamburger');
        const sidebar = document.getElementById('sidebar');
        hamburger.addEventListener('click', () => {
            sidebar.classList.toggle('hidden');
            hamburger.classList.toggle('active');
        });

        const purple = '#9b59b6';
        const darkBg = '#181a25';

        // === GRÁFICOS ===
        const baseConfig = {
            borderColor: purple,
            backgroundColor: 'rgba(155, 89, 182, 0.3)',
            color: '#fff',
            grid: { color: 'rgba(255,255,255,0.05)' },
            ticks: { color: '#ccc' }
        };

        new Chart(document.getElementById('monstrosChart'), {
            type: 'bar',
            data: {
                labels: ['Jan', 'Fev', 'Mar', 'Abr', 'Mai'],
                datasets: [{ label: 'Monstros', data: [5, 9, 7, 12, 8], backgroundColor: baseConfig.backgroundColor, borderColor: purple, borderWidth: 2 }]
            },
            options: {
                plugins: { legend: { display: false } },
                scales: { x: { ticks: baseConfig.ticks }, y: { ticks: baseConfig.ticks } }
            }
        });

        new Chart(document.getElementById('mortesChart'), {
            type: 'line',
            data: {
                labels: ['Jan', 'Fev', 'Mar', 'Abr', 'Mai'],
                datasets: [{ label: 'Mortes', data: [2, 3, 1, 4, 2], borderColor: purple, tension: 0.3, fill: true, backgroundColor: 'rgba(155, 89, 182, 0.15)' }]
            },
            options: { plugins: { legend: { display: false } }, scales: { x: { ticks: baseConfig.ticks }, y: { ticks: baseConfig.ticks } } }
        });

        new Chart(document.getElementById('atividadeChart'), {
            type: 'doughnut',
            data: {
                labels: ['Baixa', 'Média', 'Alta'],
                datasets: [{ data: [25, 40, 35], backgroundColor: ['#6a1b9a', '#8e24aa', '#b388ff'], borderWidth: 0 }]
            },
            options: { plugins: { legend: { labels: { color: '#ccc' } } } }
        });

        new Chart(document.getElementById('missoesChart'), {
            type: 'radar',
            data: {
                labels: ['Campo', 'Urbano', 'Floresta', 'Costeiro', 'Subterrâneo'],
                datasets: [{ label: 'Missões Ativas', data: [8, 6, 7, 4, 5], borderColor: purple, backgroundColor: 'rgba(155,89,182,0.3)' }]
            },
            options: { scales: { r: { grid: { color: 'rgba(255,255,255,0.1)' }, pointLabels: { color: '#ccc' }, ticks: { color: '#aaa' } } } }
        });
    </script>
</body>
</html>
