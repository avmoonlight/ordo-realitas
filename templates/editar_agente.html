<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <title>Editar Agente</title>
</head>
<body>
    <h1>Editar Agente</h1>

    <form action="" method="POST" enctype="multipart/form-data">
        <label>Nome:</label><br>
        <input type="text" name="nome" value="{{ agente.nome }}" required><br><br>

        <label>Sobrenome:</label><br>
        <input type="text" name="sobrenome" value="{{ agente.sobrenome }}"><br><br>

        <label>Data de Nascimento:</label><br>
        <input type="date" name="data_nasc" value="{{ agente.data_nasc }}"><br><br>

        <label>Contato de Emergência:</label><br>
        <input type="text" name="contato_emergencia" value="{{ agente.contato_emergencia }}"><br><br>

        <label>Elemento:</label><br>
        <input type="text" name="elemento" value="{{ agente.elemento }}"><br><br>

        <label>Classe:</label><br>
        <select name="classe">
            <option value="ESPECIALISTA" {% if agente.classe == 'ESPECIALISTA' %}selected{% endif %}>ESPECIALISTA</option>
            <option value="COMBATENTE" {% if agente.classe == 'COMBATENTE' %}selected{% endif %}>COMBATENTE</option>
            <option value="OCULTISTA" {% if agente.classe == 'OCULTISTA' %}selected{% endif %}>OCULTISTA</option>
            <option value="SOBREVIVENTE" {% if agente.classe == 'SOBREVIVENTE' %}selected{% endif %}>SOBREVIVENTE</option>
            <option value="NULO" {% if agente.classe == 'NULO' %}selected{% endif %}>NULO</option>
        </select><br><br>

        <label>Observações:</label><br>
        <textarea name="observacoes" rows="4" cols="40">{{ agente.observacoes }}</textarea><br><br>

        <label>Status:</label><br>
        <select name="status">
            <option value="VIVO" {% if agente.status == 'VIVO' %}selected{% endif %}>VIVO</option>
            <option value="MORTO" {% if agente.status == 'MORTO' %}selected{% endif %}>MORTO</option>
        </select><br><br>

        <label>Ocupação:</label><br>
        <input type="text" name="ocupacao" value="{{ agente.ocupacao }}"><br><br>

        <label>Marca:</label><br>
        <input type="text" name="marca" value="{{ agente.marca }}"><br><br>

        <label>Equipe:</label><br>
        <input type="text" name="equipe" value="{{ agente.equipe }}"><br><br>

        <label>Imagem Atual:</label><br>
        {% if agente.imagem %}
            <img src="{{ url_for('static', filename=agente.imagem) }}" alt="Imagem do agente" width="120"><br><br>
        {% else %}
            Nenhuma imagem.<br><br>
        {% endif %}

        <label>Alterar Imagem:</label><br>
        <input type="file" name="imagem"><br><br>

        <button type="submit">Salvar Alterações</button>
    </form>

    <br>
    <a href="{{ url_for('agentes') }}">Voltar</a>
</body>
</html>
